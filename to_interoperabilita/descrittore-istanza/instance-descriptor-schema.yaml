definitions: {}
"$schema": http://json-schema.org/draft-07/schema#
"$id": https://agid.gov.it/descrittore_istanza.json
title: descrittore istanza
type: object
required:
- version
- municipality
- proceedings
properties:
  version:
    "$id": "#root/version"
    title: numero versione del descrittore
    type: integer
  cui:
    "$id": "#root/cui"
    title: codice unico dell'istanza
    type: object
    required:
    - context
    - data
    - progressive
    properties:
      context:
        "$id": "#root/context"
        title: contesto dell'istanza
        type: string
      data:
        "$id": "#root/cui/data"
        title: data emissione cui
        type: string
        format: date
      progressive:
        "$id": "#root/cui/progressive"
        title: progressivo del cui
        type: integer
  municipality:
    "$id": "#root/municipality"
    title: codice istat 6 cifre del comune in cui l'istanza è stata presentata
    type: string
    pattern: "^[0-9]{6}$"
  legal_person:
    "$id": "#root/concerned/legal_person"
    title: codice fiscale persona giuridica
    type: string
    pattern: "^[0-9]{9}$"
  instance_status:
    "$id": "#root/instance_status"
    title: stato dell'istanza
    type: array
    items:
      type: object
      required:
      - state
      - timestamp
      properties:
        state:
          "$id": "#root/instance_status/state"
          title: stato dell'istanza
          type: string
          enum:
          - presentation
          - receipt
          - correction_required
        timestamp:
          "$id": "#root/instance_status/timestamp"
          title: timestamp del cambiamento di stato
          type: string
          format: date-time
  times:
    "$id": "#root/time"
    title: tempi amministrativi dell'istanza
    type: object
    required:
    - start
    - end
    properties:
      start:
        "$id": "#root/time/start"
        title: data avvio dell'istanza
        type: string
        format: date
      end:
        "$id": "#root/time/end"
        title: data avvio dell'istanza
        type: string
        format: date
      max_admissibility:
        "$id": "#root/time/t_max_admissibility"
        title: data limite verifica ammissibilità
        type: string
        format: date
      max_integration_request:
        "$id": "#root/time/max_integration_request"
        title: data limite verifica ammissibilità
        type: string
        format: date
      max_integration_response:
        "$id": "#root/time/max_integration_response"
        title: data limite verifica ammissibilità
        type: string
        format: date
      max_conclusions_sending:
        "$id": "#root/time/max_conclusions_sending"
        title: data limite verifica ammissibilità
        type: string
        format: date
      date_cdss:
        "$id": "#root/time/date_cdss"
        title: data limite verifica ammissibilità
        type: string
        format: date
      max_cdss_request:
        "$id": "#root/time/max_cdss_request"
        title: data limite verifica ammissibilità
        type: string
        format: date
  proceedings:
    "$id": "#root/proceedings"
    title: procedimenti avviati
    type: array
    items:
      type: object
      required:
      - code
      - version
      - competent_administration
      properties:
        code:
          "$id": "#root/proceedings/code"
          title: codice della fattispecie presente nel Catalogo
          type: string
          minLength: 1
        version:
          "$id": "#root/proceedings/version"
          title: versione della fattispecie presente nel Catalogo
          type: string
          minLength: 1
        competent_administration:
          "$id": "#root/proceedings/competent_administration"
          title: amministrazione compoetente del procedimento
          type: object
          required:
          - administration
          - endpoint
          properties:
            ipa:
              "$id": "#root/proceedings/competent_administration/cod_IPA"
              title: codice IPA dell'amministrazione
              type: string
              minLength: 1
            code:
              "$id": "#root/proceedings/competent_administration/code"
              title: codice dell'ufficio dell'amministrazione
              type: string
              minLength: 1
            version:
              "$id": "#root/proceedings/competent_administration/version"
              title: versione dell'ufficio dell'amministrazione
              type: string
              minLength: 1
        form:
          "$id": "#root/proceedings/form"
          title: riferimeo agli oggetti per la validazione
          type: object
          required:
          - xsd
          - schematron
          properties:
            xsd:
              "$id": "#root/proceedings/form/xsd"
              title: xsd per la validazione
              type: object
              required:
              - code
              - version
              properties:
                code:
                  "$id": "#root/proceedings/form/xsd/code"
                  title: codice dell'XSD per la validazione
                  type: string
                  minLength: 1
                version:
                  "$id": "#root/proceedings/version"
                  title: versione dell'XSD per la validazione
                  type: string
                  minLength: 1
            schematron:
              "$id": "#root/proceedings/form/xsd"
              title: xsd per la validazione
              type: object
              required:
              - code
              - version
              - phase
              properties:
                code:
                  "$id": "#root/proceedings/form/schematron/code"
                  title: codice dello schematron per la validazione
                  type: string
                  minLength: 1
                version:
                  "$id": "#root/proceedings/form/schematron/version"
                  title: versione dello schematron per la validazione
                  type: string
                  minLength: 1
                phase:
                  "$id": "#root/proceedings/form/schematron/phase"
                  title: fasi dello schematron per la validazione
                  type: array
                  items:
                    type: string
        instance:
          "$id": "#root/proceedings/instance"
          title: istanza relativo al procedimento
          type: object
          required:
          - ref
          - hash
          - alg_hash
          properties:
            ref:
              "$id": "#root/proceedings/instance/ref"
              title: riferimento all'elemento dell'istanza relativo al procedimento
              type: string
              minLength: 1
            hash:
              "$id": "#root/proceedings/instance/hash"
              title: hash dell'istanza relativo al procedimento
              type: string
              minLength: 1
            alg_hash:
              "$id": "#root/proceedings/instance/alg_hash"
              title: algoritmo hash dell'istanza relativo al procedimento
              type: string
              enum:
              - S256
              - S384
              - S512
        attachments:
          "$id": "#root/proceedings/attachments"
          title: allegati all'istanza relativo al procedimento
          type: array
          items:
            type: object
            required:
            - ref
            - hash
            - alg_hash
            properties:
              ref:
                "$id": "#root/proceedings/attachments/ref"
                title: riferimento all'allegato dell'istanza relativo al procedimento
                type: string
                minLength: 1
              hash:
                "$id": "#root/proceedings/attachments/hash"
                title: hash dell'allegato relativo al procedimento
                type: string
                minLength: 1
              alg_hash:
                "$id": "#root/proceedings/attachments/alg_hash"
                title: algoritmo hash dell'allegato relativo al procedimento
                type: string
                enum:
                - S256
                - S384
                - S512
